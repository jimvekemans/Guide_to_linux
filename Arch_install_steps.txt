wifi-menu
[partition drive]
mkfs.fat -F32 {boot-partition}
mkfs.ext4 {root-partition}
mount /dev/{root-partition} /mnt
pacstrap -i /mnt base
genfstab -U -p /mnt >> /mnt/etc/fstab
arch-chroot /mnt

pacman -S base linux linux-headers linux-firmware linux-lts linux-lts-headers base-devel
pacman -S nano tmux grub efibootmgr dosfstools os-prober mtools network-manager-applet networkmanager wireless_tools wpa_supplicant dialog
nano /etc/locale.gen [-> choose locale]
locale-gen
mkdir /boot/efi
mount /dev/{boot-partition} /boot/efi

grub-install --target=x86_64-efi --bootloader-id=archlinux --recheck
mkdir -p /boot/grub/locale
cp /usr/share/locale/en\@quot/LC_MESSAGES/grub.mo /boot/grub/locale/en.mo
grub-mkconfig -o /boot/grub/grub.cfg
fallocate -l 4G /swapfile && chmod 600 /swapfile && mkswap /swapfile && echo "/swapfile none swap sw 0 0" >> /etc/fstab

pacman -S xorg-server xf86-video-intel libgl nvidia nvidia-lts nvidia-libgl opencl-nvidia nvidia-settings mesa mesa-demos
useradd -m -g users -G wheel jim
passwd jim
pacman -S gdm gnome gnome-terminal nautilus gnome-tweaks gnome-control-center gnome-backgrounds adwaita-icon-theme

systemctl enable gdm
systemctl enable NetworkManager

pacman -S firefox tmux git docker docker-compose
systemctl enable docker
usermod -a -G docker jim
git clone https://aur.archlinux.org/yay.git && cd yay && makepkg -si
yay nvidia-container-toolkit

nano /etc/default/grub
grub-install --target=x86_64-efi --bootloader-id=archlinux --recheck
grub-mkconfig -o /boot/grub/grub.cfg
echo "alias update-grub='grub-mkconfig -o /boot/grub/grub.cfg'" >> /home/jim/.bashrc
